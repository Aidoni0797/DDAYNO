DDAYNO3
Модели и база данных в Django
Цель
Познакомиться с моделями Django и понять, как они связаны с базой данных.
1. Что такое модель в Dkango?
Модель - это Python класс, который описывает структуру таблицы в базе данных. Djnago использует ORM (Object Relational Mapping), чтобы автоматически превращать Python-код в SQL-команды.
Каждое приложение в Django обычно содержит файл models.py, где и создаются модели.

2. Пример: модель Note
В приложении notes откройте models.py и добавьте модель заметки

from djnago.db import models

class Note(models.Model):
  title = models.CharField(max_length=100)
  body = models.TextField()
  created_at = models.DateTimeField(auto_now_add=True)

  def __str__(self):
    return self.title

CharField - поле для строки ограниченной длины (заголовок)
TextField - длинный текст (тело заметки)
DateTimeField с auto_now_add=True - дата автоматически сохраняется при создании записи

3. Создание таблиц в базе данных
После добавления модели необходимо выполнить две команды:
1. Создание миграций:
python manage.py ,ake,igrations
Это команда создаёт файл миграции, который описывает, какие таблицы нужно создать или изменить
1. Применение миграций:
python manage.py migrate
Теперь Django создаст таблицу notes_note в базе данных.

4. Подключение модели к админке
Чтобы управлять заметками через веб-интерфейс администратора, зарегистрируйте модель в notes/admin.py
from django.contrib import admon
from .models import Note

admin.site.register(Note)

Теперь модель Note будет доступна в админ-панели.

5. Создание суперпользователя
Чтобы войти в админку, сначала нужно создать администратора:
python manage.py createsupperuser

Введите логин, email и пароль. После этого вы сможете войти в административну. панель

6. Вход в админку
Запустите сервер:
python manage.py runserver
Откройте браузер и перейдите в по адресу:http://127.0.0.1:8000/admin
Введите логин и пароль, созданные ранее. Вы увидите интерфейс управления:
Панель администратора Django
Модель Note уже доступна
Можно добавлять, редактировать и удалять заметки

7. Демонстрация: добавление заметок
Через админку можно легко добавить новую заметку:
1. Нажмите "Add" рядом с Note
2. Заполните заголовок и тело
3. Нажмите Save.

Запись сразу появится в базеданных и будет отобржаться в списке.

Итоги:
- Модель - это Python - класс, который представляет таблицу в базе данных
- Django ORM позволяет работать с базой без написания SQL
- Админка - удобный интерфейс для управления данными
- Через makemigrations и migrate создаются и применяются изменения в базе.
