DDAYNO7
Удаление записей и завершение проекта
Цель
Реализовать удаление заметок и подвести итог всего, что мы сделали
1. Добавим кнопку "Удалить"
В шаблоне detail.html добавим кнопку удаления:
<a href="{% url 'note_edit' note.id %}" class="btn btn-warning">Редактировать</a>
<a href="{% url 'note_delete' note.id %}" class="btn btn-danger ms-2">Удалить</a>

2. Представление с подтверждением удаления
from django.views.decorators.http import require_http_methods

@require_http_methods(["GET", "POST"])
def note_delete(request, note_id):
note = get_object_or_404(Note, pk=note_id)
if request.method == 'POST':
note.delete()
return redirect('notes_list')
return render(request, 'notes/confirm_delete.html', {'note':note})
GET - показываем страницу подтверждения
POST - удаляем и делаем редирект
require_http_methods - защита: разрещён только GET и POST

3. Шаблон confirm_delete.html

Создайте файл templates/notes/confirm_delete.html
{% extends 'base.html' %}

{% block content %}
  <h2>Удалить заметку: "{{ note.title }}"?</h2>

  <form method="post">
    {% csrf_token %}
    <button type="submit" class="btn btn-danger">Да, удалить</button>
    <a href="{% url 'note_detail' note.id %}" class="btn btn-secondary ms-2">Отмена</a>
  </form>
{% endblock %}

4. URL для удаления

Добавим маршрут в notes/urls.py

path('<int:note_id>/delete/', views.note_delete, name='note_delete'),

5. Структура проекта

Теперь у нас реализованы все основные действия с заметками:
Создание: /notes/create/
Чтение: список и детальная страница
Редактирование: /notes/<id>/edit/
Удаление: /notes/<id>/delete/ с подтверждением

Это называется CRUD - основа большинства веб-приложений.

6. Что мы создали?
Мы разработали простое, но полноценное Django-приложение для заметок:
Установили Django и настроили проект
Создали приложение notes
Добавили модель  Note и зарегистрировали её в админке
Настроили отображение записей через views и urls
Создали шаблоны и подключили Bootstrap
Релизовали добавление, редактирование и удаление записей через формы
Познакомились с ModelForm, шаблонизатором Django (DTL) и базовой валидацией

Чему мы научились?
Работать с архитектурой MTV (Model-Template-View)
Использовать ORM для работы с базой данных
Строить маршруты и обрабатывать параметры URL
Создавать формы на основе моделей
Обрабатывать GET и POST запросы
Использовать шаблоны с логикой (циклы, условия)
Делать редиректы и защищать формы через CSRF

Поздравляем!
Вы создали минимальное, но рабочее Django-приложение для заметок с полной CRUD-логикой!
Дальше вас ждут: классовые представления (CBV), расширенная валидация, авторизация, формы и многое другое!
Удачи в следующих проектах и изучении Django!

Неважно, насколько ты талантлив, - без привычки к труду ты останешься на старте.
