DDAYNO15

Основы управления проектом Django

Введение

В экосистеме Django, manage.py - это основной скрипт, который позволяет взаимодействовать с вашим проектом. Он служит своего рода 
командным центром, предоставляя доступ к широкому спектру встроенных команд. Каждая команда выполняет определенную задачу,
от запуска срвера разработки до управления миграциями и базой данных.

1. Запуск и разработка
python manage.py runserver

Это, вероятно, самая первая команда, с которой вы познакомитесь. Она запускает встроенный в Django сервер разработки. Сервер
автоматически перезагружается при обнаружении изменений в коде, что делает разработку очень удобной. По умолчанию он работает 
по адресу http://127.0.0.1:8000/. Вы можете указать другой порт, например, python manage.py runserver 8080.

django-admin startproject <project_name>

Эта команда используется один раз для создания нового проекта Django. Она генерирует базовую структуру каталогов,
включая файл manage.py, файл settings.py и корневой URL-конфигурации (urls.py)

python manage.py startapp <app_name>

После создания проекта вы используете эту команду для создания нового приложения внутри него. Приложение - 
это модуль, который выполняет опрделенную функцию (например, блог, интернет-магазин). Эта команда создает стандартный набор файлов,
таких как models.py, views.py, admin.py и другие, для организации логики приложения.

2. Миграции и база данных

Миграции - это механизм Django для изменения схемы вашей базы данных.

python manage.py makemigrations <app_name>

Эта команда сканирует файлы models.py вашего приложения, сравнивает их с текущим состоянием миграций и создает новый файл миграции.
Этот файл представляет собой "инструкцию" для базы данных о том, как изменить ее структуру (например, добавить новую таблицу,
изменить поле). Вы можете не указывать имя  приложения, чтобы создать миграции для всех измененных приложений.

python manage.py migrate

Эта команда выполняет все невыполненные миграции. Она применяет изменения, описанные в файлах миграции, к вашей базе данных,
синхронизируя ее со структурой, определенной в ваших моделях.

python manage.py makemigrations --empty <app_name>

Иногда требуется создать пустую миграцию для выполнения кастомных операций с данными, которые не затрагивают структуру моделей.
Эта команда создает пустой файл миграции, который вы можете отредактировать вручную.

python manage.py instectdb

Эта команда полезна, когды вы работаете с существующей базой данных, созданной не Django. Она автоматически генерирует
классы моделей (models.py) на основе схемы таблиц в вашей базе данных. Это мощный инструмент для "обратного проектирования".

Как удалить базу данных SQLite?
Если вы используете SQLite (базу данных по умолчанию в Django), удалить её очень просто. Вам нужно всего лишь удалить файл
db.sqlite3 из корневого каталога вашего проекта. После этого вы можете заново выполнить миграции, чтобы создать новую, пустую
базу данных.

3. Интерактивные и служебные команды
python manage.py shell
Эта команда запускает интерактивную Python-консоль уже настроена для работы с вашим проектом Django. Это очень удобно 
для тестирования кода, отладки или ручного взаимодействия с моделями. Вы можете импортировать классы моделеей и выполнять запросы
к базе данных напрямую.

python manage.py shell -i ipython

Если у вас установлен ipython,  эта команда запускает более продвинутую интерактивную оболочку с автодополнением, подсветкой
синтаксиса и другими полезными функциями.

python manage.py createsuperuser

Эта команда создает администратора с полными правами (is_superuser=True and is_stuff=True), который может получить
доступ к панели администратора Django. Она запросит у вас имя пользователя, адрес электронной почты и пароль.

python manage.py collecstatic

Когда ваш проект готов к развертыванию, эта команда собирает все статические файлы (CSS, JavaScript, изображения) из всех
приложений и копирует их в один каталог. Это необходимо для того, чтобы ваш веб-сервер мог эффективно их обслуживать.

pyython manage.py help

Если вы забыли, что делает какая-либо команда, или хотите увидеть список всех доступных команд, просто используйте 
python manage.py help. вы также можете использовать  python manage.py help <command_name>, чтобы получить подробную
информацию о конкретной команде.

python manage.py diffsettings

Эта команда показывает разницу между текущими настройками вашего проекта (settings.py) и настройками Django по умолчанию.
Это очень полезно для отладки, когда нужно быстро понять, какие параметры были изменены.

Как просмотреть все зарегистрированные маршруты проекта
Для этого нет одной стандартной команды manage.py, но вы можете написать простой скрипт, чтобы вывести все URL-маршруты. Часто для этого используют сторонние библиотеки или пишут небольшую утилиту внутри проекта. Например, с помощью Django Debug Toolbar можно увидеть все маршруты на одной из его вкладок.

Заключение
Понимание и умелое использование этих команд — ключевой навык для любого разработчика Django. Они автоматизируют рутинные задачи и позволяют сосредоточиться на написании бизнес-логики вашего приложения. Помните, что manage.py - ваш лучший друг в мире Django.
